version: '3.9'
services:
  jupyterlab:
    image: gonzou122/ds_env_gpu:latest
    deploy:
      resources:
        reservations:
          devices:
          - 'driver': 'nvidia'
            'capabilities': ['gpu']
    container_name: jupyterlab
    ports:
      - '8888:8888'
    volumes:
      - './ds_python:/workspace'
    command: jupyter lab
    tty: true
    stdin_open: true